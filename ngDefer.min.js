/*! ngDefer
version: 0.1.0
build date: 2015-11-18
author: Robin Fan
https://github.com/pc035860/ngDefer.git */
angular.module("ngDefer",["ngQueue"]).directive("ngDefer",["$queueFactory","$animate","$document",function(a,b,c){function d(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=angular.element(Array.prototype.slice.call(a,0,e))),b.push(c));return b||a}var e=function(){var b={};return function(c){return angular.isUndefined(b[c])&&(b[c]=a(1,c)),b[c]}}();return{multiElement:!0,transclude:"element",priority:999,terminal:!0,restrict:"A",$$tlb:!0,link:function(a,f,g,h,i){var j,k,l,m,n,o=Number(g.ngDefer)||0,p=e(o);j=a.$watch(function(){return!0},function(){k=p.enqueue(function(){k=null,i(function(a,d){m=d,a[a.length++]=c[0].createComment(" end ngDefer "),l={clone:a},b.enabled(!1,a),b.enter(a,f.parent(),f)})}),j()}),a.$on("$destroy",function(){null!==k&&p.remove(k),m&&(m.$destroy(),m=null),l&&(n=d(l.clone),b.enabled(!1,n),b.leave(n).then(function(){n=null}),l=null)})}}}]);