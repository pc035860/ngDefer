/*! ngDefer
version: 0.1.0
build date: 2014-01-02
author: Robin Fan
https://github.com/pc035860/ngDefer.git */
angular.module("ngDefer",["ngQueue"]).directive("ngDefer",["$queueFactory",function(a){var b=function(){var b={};return function(c){return angular.isUndefined(b[c])&&(b[c]=a(c,!0)),b[c]}}();return{transclude:"element",priority:999,terminal:!0,restrict:"A",compile:function(a,c,d){return function(a,c,e){var f,g,h,i=Number(e.ngDefer)||1,j=b(i);f=a.$watch(function(){return!0},function(){g=j.enqueue(function(){g=null,d(a,function(a){var b=c.parent(),d=c&&c[c.length-1],e=b&&b[0]||d&&d.parentNode,f=d&&d.nextSibling||null;angular.forEach(a,function(a){e.insertBefore(a,f)}),h=a})}),f()}),a.$on("$destroy",function(){null!==g&&j.remove(g),h&&h.remove()})}}}}]);